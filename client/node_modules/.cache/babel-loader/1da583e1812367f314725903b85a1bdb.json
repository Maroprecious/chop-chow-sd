{"ast":null,"code":"import { __assign, __awaiter, __generator } from \"tslib\";\nimport { validate as validateArn } from \"@aws-sdk/util-arn-parser\";\nexport function validateBucketNameMiddleware() {\n  var _this = this;\n\n  return function (next) {\n    return function (args) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var Bucket, err;\n        return __generator(this, function (_a) {\n          Bucket = args.input.Bucket;\n\n          if (typeof Bucket === \"string\" && !validateArn(Bucket) && Bucket.indexOf(\"/\") >= 0) {\n            err = new Error(\"Bucket name shouldn't contain '/', received '\".concat(Bucket, \"'\"));\n            err.name = \"InvalidBucketName\";\n            throw err;\n          }\n\n          return [2, next(__assign({}, args))];\n        });\n      });\n    };\n  };\n}\nexport var validateBucketNameMiddlewareOptions = {\n  step: \"initialize\",\n  tags: [\"VALIDATE_BUCKET_NAME\"],\n  name: \"validateBucketNameMiddleware\",\n  override: true\n};\nexport var getValidateBucketNamePlugin = function getValidateBucketNamePlugin(unused) {\n  return {\n    applyToStack: function applyToStack(clientStack) {\n      clientStack.add(validateBucketNameMiddleware(), validateBucketNameMiddlewareOptions);\n    }\n  };\n};","map":{"version":3,"sources":["/home/chuka/joe/ChopChowSD/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/validate-bucket-name.js"],"names":["__assign","__awaiter","__generator","validate","validateArn","validateBucketNameMiddleware","_this","next","args","Bucket","err","_a","input","indexOf","Error","concat","name","validateBucketNameMiddlewareOptions","step","tags","override","getValidateBucketNamePlugin","unused","applyToStack","clientStack","add"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;AACA,SAASC,QAAQ,IAAIC,WAArB,QAAwC,0BAAxC;AACA,OAAO,SAASC,4BAAT,GAAwC;AAC3C,MAAIC,KAAK,GAAG,IAAZ;;AACA,SAAO,UAAUC,IAAV,EAAgB;AACnB,WAAO,UAAUC,IAAV,EAAgB;AAAE,aAAOP,SAAS,CAACK,KAAD,EAAQ,KAAK,CAAb,EAAgB,KAAK,CAArB,EAAwB,YAAY;AACzE,YAAIG,MAAJ,EAAYC,GAAZ;AACA,eAAOR,WAAW,CAAC,IAAD,EAAO,UAAUS,EAAV,EAAc;AACnCF,UAAAA,MAAM,GAAGD,IAAI,CAACI,KAAL,CAAWH,MAApB;;AACA,cAAI,OAAOA,MAAP,KAAkB,QAAlB,IAA8B,CAACL,WAAW,CAACK,MAAD,CAA1C,IAAsDA,MAAM,CAACI,OAAP,CAAe,GAAf,KAAuB,CAAjF,EAAoF;AAChFH,YAAAA,GAAG,GAAG,IAAII,KAAJ,CAAU,gDAAgDC,MAAhD,CAAuDN,MAAvD,EAA+D,GAA/D,CAAV,CAAN;AACAC,YAAAA,GAAG,CAACM,IAAJ,GAAW,mBAAX;AACA,kBAAMN,GAAN;AACH;;AACD,iBAAO,CAAC,CAAD,EAAIH,IAAI,CAACP,QAAQ,CAAC,EAAD,EAAKQ,IAAL,CAAT,CAAR,CAAP;AACH,SARiB,CAAlB;AASH,OAXwC,CAAhB;AAWpB,KAXL;AAYH,GAbD;AAcH;AACD,OAAO,IAAIS,mCAAmC,GAAG;AAC7CC,EAAAA,IAAI,EAAE,YADuC;AAE7CC,EAAAA,IAAI,EAAE,CAAC,sBAAD,CAFuC;AAG7CH,EAAAA,IAAI,EAAE,8BAHuC;AAI7CI,EAAAA,QAAQ,EAAE;AAJmC,CAA1C;AAMP,OAAO,IAAIC,2BAA2B,GAAG,SAA9BA,2BAA8B,CAAUC,MAAV,EAAkB;AAAE,SAAQ;AACjEC,IAAAA,YAAY,EAAE,sBAAUC,WAAV,EAAuB;AACjCA,MAAAA,WAAW,CAACC,GAAZ,CAAgBpB,4BAA4B,EAA5C,EAAgDY,mCAAhD;AACH;AAHgE,GAAR;AAIxD,CAJE","sourcesContent":["import { __assign, __awaiter, __generator } from \"tslib\";\nimport { validate as validateArn } from \"@aws-sdk/util-arn-parser\";\nexport function validateBucketNameMiddleware() {\n    var _this = this;\n    return function (next) {\n        return function (args) { return __awaiter(_this, void 0, void 0, function () {\n            var Bucket, err;\n            return __generator(this, function (_a) {\n                Bucket = args.input.Bucket;\n                if (typeof Bucket === \"string\" && !validateArn(Bucket) && Bucket.indexOf(\"/\") >= 0) {\n                    err = new Error(\"Bucket name shouldn't contain '/', received '\".concat(Bucket, \"'\"));\n                    err.name = \"InvalidBucketName\";\n                    throw err;\n                }\n                return [2, next(__assign({}, args))];\n            });\n        }); };\n    };\n}\nexport var validateBucketNameMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"VALIDATE_BUCKET_NAME\"],\n    name: \"validateBucketNameMiddleware\",\n    override: true,\n};\nexport var getValidateBucketNamePlugin = function (unused) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(validateBucketNameMiddleware(), validateBucketNameMiddlewareOptions);\n    },\n}); };\n"]},"metadata":{},"sourceType":"module"}