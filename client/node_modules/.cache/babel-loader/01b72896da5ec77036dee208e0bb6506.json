{"ast":null,"code":"var _jsxFileName = \"/home/chuka/joe/ChopChowSD/client/src/components/Login/index.jsx\";\nimport React from \"react\";\nimport \"./style.css\";\nimport { Form, Button, Container, Modal, Row, Col } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = ({\n      target: {\n        value,\n        name\n      }\n    }) => this.setState({\n      [name]: value\n    });\n\n    this.handleLoginClick = () => {\n      var email = this.state.email;\n      var password = this.state.password; // const { email, password } = this.state;\n\n      if (email && password) {\n        // var url = `https://chopchowdev.herokuapp.com/api/login`;\n        var url = \"./api/login\"; // var url = `http://localhost:5000/api/login`\n\n        fetch(url, {\n          method: \"POST\",\n          credentials: \"include\",\n          headers: {\n            \"Content-type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email,\n            password\n          })\n        }).then(response => {\n          if (response.status === 400 || response.status === 404) {\n            this.setState({\n              messageErr: \"Bad Request. Please check email or password.\"\n            });\n          } else if (response.status === 401) {\n            this.setState({\n              messageErr: \"Sorry, you are not authorized\"\n            });\n          } else if (response.status >= 500) {\n            this.setState({\n              messageErr: \"Sorry , Internal Server ERROR\"\n            });\n          } else {\n            console.log(\"Reponse status is:\");\n            console.log(response.status);\n            this.setState({\n              messageErr: \"\"\n            });\n            this.setState({\n              isAuthenticated: true\n            });\n            this.setState({\n              messageSuccess: \"Logged in Sucessfully! \"\n            });\n            return response.json();\n          }\n        }).then(body => {\n          // .then(firstBody=>{return firstBody.json()})\n          console.log(body);\n          console.log(body.message);\n          console.log(body.token);\n          console.log(body.customerID);\n          let customerID = body.customerID;\n          window.localStorage.setItem(\"userToken\", body.token); // console.log(\"converted body is :\")\n          // var jsonBody = body.json();\n          // console.log(jsonBody)\n\n          console.log(\"before prop func call\");\n          this.props.updateLogInStatus(customerID);\n          console.log(\"after prop func call\"); // return to page that called log in popup.\n\n          return window.location.href = \"/grocery\"; // window.location.reload(false);\n        }).catch(() => {\n          this.setState({\n            messageAlert: \"Internal Server Error while logging in\",\n            showAlert: true,\n            variant: \"danger\"\n          }, () => setTimeout(() => {\n            this.setState({\n              messageAlert: \"\",\n              showAlert: false\n            });\n          }, 8000));\n        });\n      } else {\n        this.setState({\n          messageErr: \"Please enter all fields\"\n        });\n        console.log(\"Please enter all fields\");\n      }\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      messageErr: false,\n      messageSuccess: false\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          messageErr = _this$state.messageErr,\n          messageSuccess = _this$state.messageSuccess;\n    return (\n      /*#__PURE__*/\n      React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Modal, {\n        show: true,\n        onHide: this.handleClose,\n        className: \"text-center custom-card1\",\n        backdrop: \"static\",\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Modal.Header, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Modal.Title, {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }\n      }, \"Log In to View your Grocery List\")),\n      /*#__PURE__*/\n      React.createElement(Modal.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        md: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 19\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Button, {\n        className: \"fb-btn mb-3 px-3 py-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }, \"Login In with Facebook\"),\n      /*#__PURE__*/\n      React.createElement(Button, {\n        className: \"google-btn px-3 py-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, \"Login In with Google\")),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        md: 1,\n        className: \"or\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 19\n        }\n      }, \"or\"),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        md: 6,\n        className: \"d-block right-panel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Form.Control, {\n        type: \"text\",\n        name: \"email\",\n        value: email,\n        placeholder: \"Your Email or Username\",\n        onChange: this.handleChange,\n        className: \"login__form__input1\",\n        autoComplete: \"username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 23\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Form.Control, {\n        type: \"password\",\n        name: \"password\",\n        value: password,\n        placeholder: \"Your password\",\n        onChange: this.handleChange,\n        className: \"login__form__input\",\n        autoComplete: \"current-password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 23\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Form.Label, {\n        className: \"lbl_text text-left\",\n        column: true,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 23\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"a\", {\n        className: \"forget\",\n        href: \"/forgotpass\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 81\n        }\n      }, \"Forget Password?\")),\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        className: \"msg-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 23\n        }\n      }, messageSuccess),\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        className: \"msg-err\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 23\n        }\n      }, messageErr),\n      /*#__PURE__*/\n      React.createElement(Button, {\n        variant: \"primary\",\n        className: \"mb-1 float-left login-button\",\n        onClick: this.handleLoginClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 23\n        }\n      }, \"Login\"),\n      /*#__PURE__*/\n      React.createElement(Form.Label, {\n        className: \"lbl_text mt-4 text-right pb-0\",\n        column: true,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 23\n        }\n      }, \"Don't have an account? \",\n      /*#__PURE__*/\n      React.createElement(\"a\", {\n        className: \"signup\",\n        href: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 115\n        }\n      }, \"Sign Up\")),\n      /*#__PURE__*/\n      React.createElement(Form.Label, {\n        className: \"lbl_text text-right pt-0\",\n        column: true,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 23\n        }\n      }, \"or \",\n      /*#__PURE__*/\n      React.createElement(\"a\", {\n        className: \"continue\",\n        href: \"/v2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 90\n        }\n      }, \"continue as guest\"))))))))\n    );\n  }\n\n}","map":{"version":3,"sources":["/home/chuka/joe/ChopChowSD/client/src/components/Login/index.jsx"],"names":["React","Form","Button","Container","Modal","Row","Col","Link","Login","Component","constructor","props","handleChange","target","value","name","setState","handleLoginClick","email","state","password","url","fetch","method","credentials","headers","body","JSON","stringify","then","response","status","messageErr","console","log","isAuthenticated","messageSuccess","json","message","token","customerID","window","localStorage","setItem","updateLogInStatus","location","href","catch","messageAlert","showAlert","variant","setTimeout","render","handleClose"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./style.css\";\nimport { Form, Button, Container, Modal, Row, Col } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      messageErr: false,\n      messageSuccess: false,\n    };\n  }\n\n  handleChange = ({ target: { value, name } }) =>\n    this.setState({ [name]: value });\n\n  handleLoginClick = () => {\n    var email = this.state.email;\n    var password = this.state.password;\n\n    // const { email, password } = this.state;\n    if (email && password) {\n      // var url = `https://chopchowdev.herokuapp.com/api/login`;\n      var url = `./api/login`;\n      // var url = `http://localhost:5000/api/login`\n\n      fetch(url, {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          email,\n          password,\n        }),\n      })\n        .then((response) => {\n          if (response.status === 400 || response.status === 404) {\n            this.setState({\n              messageErr: \"Bad Request. Please check email or password.\",\n            });\n          } else if (response.status === 401) {\n            this.setState({ messageErr: \"Sorry, you are not authorized\" });\n          } else if (response.status >= 500) {\n            this.setState({ messageErr: \"Sorry , Internal Server ERROR\" });\n          } else {\n            console.log(\"Reponse status is:\");\n            console.log(response.status);\n\n            this.setState({ messageErr: \"\" });\n\n            this.setState({ isAuthenticated: true });\n            this.setState({ messageSuccess: \"Logged in Sucessfully! \" });\n            return response.json();\n          }\n        })\n        .then((body) => {\n          // .then(firstBody=>{return firstBody.json()})\n\n          console.log(body);\n          console.log(body.message);\n          console.log(body.token);\n          console.log(body.customerID);\n          let customerID = body.customerID;\n          window.localStorage.setItem(\"userToken\", body.token);\n          // console.log(\"converted body is :\")\n          // var jsonBody = body.json();\n          // console.log(jsonBody)\n\n          console.log(\"before prop func call\");\n          this.props.updateLogInStatus(customerID);\n          console.log(\"after prop func call\");\n          // return to page that called log in popup.\n          return (window.location.href = \"/grocery\");\n          // window.location.reload(false);\n        })\n        .catch(() => {\n          this.setState(\n            {\n              messageAlert: \"Internal Server Error while logging in\",\n              showAlert: true,\n              variant: \"danger\",\n            },\n            () =>\n              setTimeout(() => {\n                this.setState({ messageAlert: \"\", showAlert: false });\n              }, 8000)\n          );\n        });\n    } else {\n      this.setState({ messageErr: \"Please enter all fields\" });\n      console.log(\"Please enter all fields\");\n    }\n  };\n\n  render() {\n    const { email, password, messageErr, messageSuccess } = this.state;\n    return (      \n      <Container>\n            <Modal \n            show={true}\n            onHide={this.handleClose}\n            className=\"text-center custom-card1\"\n            backdrop=\"static\"\n            size=\"lg\"\n            >\n            <Modal.Header closeButton>\n              <Modal.Title className=\"text-center\" >Log In to View your Grocery List</Modal.Title>\n            </Modal.Header>\n              <Modal.Body>\n                <Row>\n                  <Col md={5}>\n                    <Button className=\"fb-btn mb-3 px-3 py-2\">Login In with Facebook</Button>\n                    <Button className=\"google-btn px-3 py-2\">Login In with Google</Button>\n                  </Col>\n                  <Col md={1} className=\"or\">\n                    or\n                  </Col>\n                  <Col md={6} className=\"d-block right-panel\">\n                    <Form>\n                      <Form.Control \n                        type=\"text\" \n                        name=\"email\"\n                        value={email}\n                        placeholder=\"Your Email or Username\" \n                        onChange={this.handleChange}\n                        className=\"login__form__input1\"\n                        autoComplete=\"username\"\n                      />\n                      <Form.Control \n                        type=\"password\"\n                        name=\"password\"\n                        value={password}\n                        placeholder=\"Your password\"\n                        onChange={this.handleChange}\n                        className=\"login__form__input\"\n                        autoComplete=\"current-password\"\n                        />\n\n                      <Form.Label className=\"lbl_text text-left\" column md={12}><a className=\"forget\" href=\"/forgotpass\">Forget Password?</a></Form.Label>\n                      <p className=\"msg-success\">{messageSuccess}</p>\n                      <p className=\"msg-err\">{messageErr}</p>\n                      <Button \n                        variant=\"primary\"\n                        className=\"mb-1 float-left login-button\"\n                        onClick={this.handleLoginClick}\n                      >Login</Button>\n\n                      <Form.Label className=\"lbl_text mt-4 text-right pb-0\" column md={12}>Don't have an account? <a className=\"signup\" href=\"/signup\">Sign Up</a></Form.Label>\n                      <Form.Label className=\"lbl_text text-right pt-0\" column md={12}>or <a className=\"continue\" href=\"/v2\">continue as guest</a></Form.Label>\n\n                    </Form>\n                  </Col>\n                </Row>\n              </Modal.Body>\n            </Modal>        \n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}